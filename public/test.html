<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />

        <title>Speechki Speakers</title>

        <script defer src="/widget.js"></script>
    </head>

    <body>
        <fieldset style="max-width: 500px">
            <legend>Options</legend>
            <label for="language">
                <select id="language_select">
                    <option selected value="russian">Russian</option>
                    <option value="english">English</option>
                    <option value="spansih">spanish</option>
                </select>
            </label>
        </fieldset>

        <h2>Widget 1 320x240</h2>
        <div id="widget1" style="width: 320px; height: 240px"></div>
        <h2>Widget 2 640x320</h2>
        <div id="widget2" style="width: 640px; height: 420px"></div>
        <h2>Widget Fullwidth</h2>
        <div id="widget3" style="width: 100%; height: 420px"></div>
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                const w1 = Speechki.widget({
                    target: '#widget1',
                    customer_id: 3,
                    book_language: 'russian',
                });
                const w2 = Speechki.widget({
                    target: '#widget2',
                    customer_id: 3,
                    book_language: 'russian',
                });
                const w3 = Speechki.widget({
                    target: '#widget3',
                    customer_id: 3,
                    book_language: 'russian',
                });
                w1.on('select', (event) => {
                    alert(event.data.slug);
                });
                w2.on('select', (event) => {
                    alert(event.data.slug);
                });
                w3.on('select', (event) => {
                    alert(event.data.slug);
                });

                language_select.addEventListener('change', function (event) {
                    w1.changeLanguage(event.target.value);
                    w2.changeLanguage(event.target.value);
                    w3.changeLanguage(event.target.value);
                });
            });
        </script>
    </body>
</html>
